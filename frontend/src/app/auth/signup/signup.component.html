<div class="auth">
  <div
    class="wrapper"
    [style.background-image]="
      'url(' + backgroundImageUrl + ')'
    "
  >
    <div class="content">
      <div class="logo">
        <img
          *ngIf="logoUrl"
          [src]="logoUrl"
          width="240px"
          alt=""
        />
        <h1 *ngIf="!logoUrl">
          <app-i18n key="app.title"></app-i18n>
        </h1>
      </div>

      <form
        class="form"
        (ngSubmit)="signup()"
        [formGroup]="form"
      >
        <mat-form-field
          floatLabel="always"
          appearance="outline"
          class="w-100"
        >
          <mat-label>{{ fields.email.label }}</mat-label>
          <input
            matInput
            type="text"
            [formControlName]="fields.email.name"
            [errorStateMatcher]="errorStateMatcher"
            autocomplete="email"
            appAutofocus
          />
          <mat-error>
            <app-validations
              [control]="form.get(fields.email.name)"
              [label]="fields.email.label"
            ></app-validations>

            <span *ngIf="errorMessage">
              {{ errorMessage }}
            </span>
          </mat-error>
        </mat-form-field>

        <mat-form-field
          floatLabel="always"
          appearance="outline"
          class="w-100"
        >
          <mat-label>{{ fields.password.label }}</mat-label>
          <input
            matInput
            type="password"
            [formControlName]="fields.password.name"
            autocomplete="current-password"
          />
          <mat-error>
            <app-validations
              [control]="form.get(fields.password.name)"
              [label]="fields.password.label"
            ></app-validations>
          </mat-error>
        </mat-form-field>

        <div class="form-buttons">
          <button
            mat-raised-button
            class="w-100"
            type="submit"
            color="primary"
            [disabled]="loading"
          >
            <app-i18n key="auth.signup"></app-i18n>
          </button>
        </div>

        <div class="other-actions">
          <a
            mat-button
            color="primary"
            routerLink="/auth/signin"
          >
            <app-i18n
              key="auth.alreadyHaveAnAccount"
            ></app-i18n>
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
